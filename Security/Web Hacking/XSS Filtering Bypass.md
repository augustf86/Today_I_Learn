# XSS Filtering Bypass

> ## **XSS** (Cross-Site-Scripting)
> [클라이언트 사이드 취약점] 공격자가 웹 리소스에 악성 스크립트를 삽입해 이용자의 웹 브라우저에서 해당 스크립트를 실행하도록 하는 취약점
> * 다른 사용자의 정보를 추출하는 공격 기법
>   - 특정 계정의 세션 정보를 탈취하고 해당 계정으로 임의의 기능을 수행할 수 있음
> * 이용자가 삽입한 내용을 출력하는 기능에서 XSS 공격이 발생함
> * 자세한 내용은 [Cross-Site-Scripting(XSS).md](https://github.com/augustf86/Today_I_Learn/blob/main/Security/Web%20Hacking/Cross-Site-Scripting(XSS).md)를 참고

<br/>

* XSS 현황
    - XSS 공격이 증가함에 따라 이에 대한 방어책이 마련되고 있음
        + 많은 웹 개발자들이 XSS 공격에 대해 공부하고 이를 방어하는 코드를 작성함
        + XSS 공격을 막기 위한 다양한 오픈 소스 라이브러리들이 개발 중에 있음
    - 올바르지 않은 패치와 XSS 키워드 필터링으로 인해 끊임없이 이를 우회하고 다시 방어하는 방법들이 고안되어 왔음
* XSS 방어를 올바르지 않게 수행할 경우 발생할 수 있는 문제
    - 기존의 XSS 공격 방어 역할을 올바르게 수행하지 못함
    - **웹 방화벽이나 기타 방어 기법들을 우회해 새로운 공격을 수행할 수 있도록 기회를 제공함**

<br/><br/>

## XSS 필터링
### HTML에서 XSS 공격을 방어하기 위한 필터링이 복잡해지는 이유
* **이유1**: SGML을 바탕으로 하는 HTML
    - 사용자의 문서 작성 편의를 초점으로 둔 기능을 상당 수 유지함으로써 문법이 복잡해짐 → HTML을 해석하는 소프트웨어의 구조도 정교해짐
        + 문맥에 따른 태그 시작 및 끝 생략 기능, 자유로운 인용(quotation) 구문, 요소에 따른 내용 태그 해석 여부 변이 등이 사용자의 문서 작성 편의에 초점을 둔 기능들에 해당함
* **이유2**: Netscape 사와 Microsoft 사의 "브라우저 전쟁" 등을 거치면서 각 웹 브라우저가 해석할 수 있는 HTML에 별다른 규율 없이 태그 등을 늘려나감
    - 표준화가 제대로 정립되기 전까지 쌓여온 이 기능들이 현재에 들어서 잘 쓰이지 않거나 불편함을 야기함 → 많은 유산들로 인해 XSS 필터링을 포함한 HTML를 해석하는 소프트웨어 작성이 어려워졌음
        + 별다른 쳬계 없이 정립된 규칙 및 기능들을 IT 용어로 **유산**(legacy)이라고 함

<br/>

### XSS 필터링이 취해야 하는 방식
